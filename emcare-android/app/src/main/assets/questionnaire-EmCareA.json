{
  "resourceType": "Questionnaire",
  "id": "EmCareA",
  "subjectType": [
    "Patient"
  ],
  "extension": [ {
    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
    "valueExpression": {
      "language": "application/x-fhir-query",
      "expression": "Patient",
      "name": "patient"
    }
  },{
    "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
    "valueCode": "shareable"
  }, {
    "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
    "valueCode": "computable"
  }, {
    "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
    "valueCode": "publishable"
  }, {
    "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeRepresentationLevel",
    "valueCode": "structured"
  } ],
  "url": "http://fhir.org/guides/who/emc-cds/Questionnaire/EmCareA",
  "name": "EmCareA",
  "title": "EmCare.A. Registration",
  "status": "active",
  "experimental": false,
  "description": "TODO: description goes here",
  "useContext": [ {
    "code": {
      "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
      "code": "task",
      "display": "Workflow Task"
    },
    "valueCodeableConcept": {
      "coding": [ {
        "system": "http://fhir.org/guides/who/emc-cds/CodeSystem/activity-codes",
        "code": "EmCare.A.",
        "display": "Registration"
      } ]
    }
  } ],
  "item": [ {
    "linkId": "0",
    "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.identifier",
    "text": "Unique identification",
    "type": "string"
  }, {
    "linkId": "1",
    "text": "Child's Identity unknown/prefer to remain anonymous",
    "type": "boolean",
    "initial": {
      "valueBoolean" : "true"
    }
  },{
    "linkId": "2",
    "type": "group",
    "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.name",
    "extension": [
      {
        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
        "valueExpression": {
          "language": "application/x-fhir-query",
          "expression": "HumanName",
          "name": "humanName"
        }
      }
    ],
    "enableWhen": [{
      "question": "1",
      "operator": "!=",
      "answerBoolean": "true"
    }],
    "item": [
      {
        "extension": [
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
            "valueExpression": {
              "language": "text/fhirpath",
              "expression": "Patient.name.given",
              "name": "patientName"
            }
          }
        ],
        "linkId": "PR-name-text",
        "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.name.given",
        "type": "string",
        "text": "First Name",
        "_text": {
          "extension": [
            {
              "extension": [
                {
                  "url": "lang",
                  "valueCode": "sw"
                },
                {
                  "url": "content",
                  "valueString": "Jina la kwanza"
                }
              ],
              "url": "http://hl7.org/fhir/StructureDefinition/translation"
            }
          ]
        }
      },
      {
        "extension": [
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
            "valueExpression": {
              "language": "text/fhirpath",
              "expression": "Patient.name.family",
              "name": "patientFamily"
            }
          }
        ],
        "linkId": "PR-name-family",
        "definition": "http://hl7.org/fhir/StructureDefinition/datatypes#HumanName.family",
        "type": "string",
        "text": "Family Name",
        "_text": {
          "extension": [
            {
              "extension": [
                {
                  "url": "lang",
                  "valueCode": "sw"
                },
                {
                  "url": "content",
                  "valueString": "Jina la ukoo"
                }
              ],
              "url": "http://hl7.org/fhir/StructureDefinition/translation"
            }
          ]
        }
      }
    ]
  }, {
    "linkId": "3",
    "text": "Visit date",
    "type": "date"
  }, {

    "extension": [
      {
        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
        "valueExpression": {
          "language": "text/fhirpath",
          "expression": "Patient.birthDate",
          "name": "patientBirthDate"
        }
      }
    ],
    "linkId": "4",
    "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.birthDate",
    "type": "date",
    "text": "Date of Birth",
    "_text": {
      "extension": [
        {
          "extension": [
            {
              "url": "lang",
              "valueCode": "sw"
            },
            {
              "url": "content",
              "valueString": "Tarehe ya kuzaliwa"
            }
          ],
          "url": "http://hl7.org/fhir/StructureDefinition/translation"
        }
      ]
    }
  }, {
    "linkId": "5",
    "text": "Date of Birth not known",
    "type": "boolean",
    "item": [
     {
        "linkId": "5a",
        "text": "Provide an estimated age",
        "type": "quantity",
        "enableWhen": [{
          "question": "5",
          "operator": "=",
          "answerBoolean": "true"
        }]
      }
    ]
  }, {
    "linkId": "patient-0-gender",
    "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.gender",
    "type": "choice",
    "text": "Gender",
    "extension": [
      {
        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
        "valueExpression": {
          "system": "http://hl7.org/fhir/administrative-gender",
          "language": "text/fhirpath",
          "expression": "Patient.gender",
          "name": "patientGender"
        }
      },
      {
        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
        "valueExpression": {
          "language": "application/x-fhir-query",
          "expression": "Enumerations$AdministrativeGender",
          "name": "administrativeGender"
        }
      },
      {
        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
        "valueCodeableConcept": {
          "coding": [
            {
              "system": "http://hl7.org/fhir/questionnaire-item-control",
              "code": "radio-button",
              "display": "Radio Button"
            }
          ]
        }
      },
      {
        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
        "valueCode": "horizontal"
      }
    ],
    "initial": [
      {
        "valueCoding": {
          "system": "http://hl7.org/fhir/administrative-gender",
          "code": "female",
          "display": "Female"
        }
      }
    ],
    "answerOption": [
      {
        "valueCoding": {
          "system": "http://hl7.org/fhir/administrative-gender",
          "code": "female",
          "display": "Female",
          "designation": [
            {
              "language": "sw",
              "value": "Mwanamke"
            }]
        }
      },
      {
        "valueCoding": {
          "system": "http://hl7.org/fhir/administrative-gender",
          "code": "male",
          "display": "Male",
          "designation": [
            {
              "language": "sw",
              "value": "Mwanaume"
            }]
        }
      }
    ]
  }, {
    "linkId": "PR-address",
    "type": "group",
    "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.address",
    "extension": [
      {
        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
        "valueExpression": {
          "language": "application/x-fhir-query",
          "expression": "Address",
          "name": "address"
        }
      }
    ],
    "item": [
      {
        "extension": [
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
            "valueExpression": {
              "language": "text/fhirpath",
              "expression": "Patient.address.line",
              "name": "patientAddressLine"
            }
          }
        ],
        "linkId": "PR-address-line",
        "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.address.line",
        "type": "string",
        "text": "Address Line",
        "_text": {
          "extension": [
            {
              "extension": [
                {
                  "url": "lang",
                  "valueCode": "sw"
                },
                {
                  "url": "content",
                  "valueString": "Mji"
                }
              ],
              "url": "http://hl7.org/fhir/StructureDefinition/translation"
            }
          ]
        }
      }
    ]
  }, {
    "linkId": "eight",
    "text": "Primary Caregiver First Name",
    "type": "string"
  }, {
    "linkId": "17",
    "text": "Primary Caregiver Family Name",
    "type": "string"
  }, {
    "linkId": "18",
    "text": "Primary Caregiver's Relationship to Client",
    "type": "string"
  }, {
    "linkId": "19",
    "text": "Biological Mother Vital Status",
    "type": "boolean"
  }, {
    "linkId": "20",
    "text": "Biological Father Vital Status",
    "type": "boolean"
  }, {
    "linkId": "26",
    "text": "Caregiver wants to receive SMS or other messages regarding the child's visits and health status",
    "type": "boolean"
  }, {
    "linkId": "27",
    "text": "Person accompanying child today is same as the primary Caregiver",
    "type": "boolean",
    "initial": {
      "valueBoolean" : "true"
    }
  }, {
    "linkId": "28",
    "text": "Person accompanying child today's First Name",
    "type": "string",
    "enableWhen": [{
      "question": "27",
      "operator": "!=",
      "answerBoolean": "true"
    }]
  }, {
    "linkId": "29",
    "text": "Person accompanying child today's Last Name",
    "type": "string",
    "enableWhen": [{
      "question": "27",
      "operator": "!=",
      "answerBoolean": "true"
    }]
  }, {
    "linkId": "30",
    "text": "Person accompanying child today's contact's phone number",
    "type": "quantity",
    "enableWhen": [{
      "question": "27",
      "operator": "!=",
      "answerBoolean": "true"
    }]
  }, {
    "linkId": "31",
    "text": "Person accompanying child today's Relationship to Client",
    "type": "string",
    "enableWhen": [{
      "question": "27",
      "operator": "!=",
      "answerBoolean": "true"
    }]
  }, {
    "linkId": "33",
    "text": "Reason for Consultation",
    "type": "string"
  }, {
    "linkId": "34",
    "text": "Is the child sick today",
    "type": "boolean"
  }, {
    "linkId": "36",
    "text": "Referred by a Health Care Worker or Health Care Facility",
    "type": "boolean"
  } ]
}
